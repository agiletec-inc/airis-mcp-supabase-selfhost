# PostgreSQL connection (direct access for schema introspection and diagnostics)
# Use read-only role for safety: CREATE ROLE mcp_ro WITH LOGIN PASSWORD 'xxx' IN ROLE pg_read_all_data;
# When running in Docker: use host.docker.internal to access host services
# When running locally: use 127.0.0.1 or localhost
PG_DSN=postgres://mcp_ro:password@host.docker.internal:5432/postgres
# Or for local development without Docker:
# PG_DSN=postgres://mcp_ro:password@127.0.0.1:5432/postgres

# PostgREST endpoint (RLS-aware layer for safe data access)
# When running in Docker: use host.docker.internal
# When running locally: use 127.0.0.1 or localhost
POSTGREST_URL=http://host.docker.internal:54321/rest/v1
# Or for local development without Docker:
# POSTGREST_URL=http://127.0.0.1:54321/rest/v1

# PostgREST JWT (anon key or service_role key)
# For RLS-aware access, use user JWT or anon key
# For admin operations, use service_role key (only in dev/local)
POSTGREST_JWT=your_anon_key_or_service_role_key_here

# Safety: READ_ONLY mode (default: true)
# When true, DML/DDL/DCL are blocked. Only SELECT and EXPLAIN are allowed.
READ_ONLY=true

# Feature flags (comma-separated: database,docs,postgrest,functions,storage)
# MVP: database,docs,postgrest
FEATURES=database,docs,postgrest

# Server port
PORT=3100
